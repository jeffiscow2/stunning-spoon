# ğŸ¾ Neopets Discord â” Matrix Migration: Welcome to Our Cozy Clubhouse! ğŸ¡âœ¨

> *A warm, nostalgic corner of the internet â€” owned by us, secured by us, decorated by us.*

---

## ğŸŒŸ Why Consider Matrix for Our Community?

Matrix is a friendly, open, and secure chat network where *we* call the shots. Instead of chatting under the watchful eye of big tech, we get to host our own digital sanctuary â€” cozy, private, and endlessly customizable. Here's why Matrix makes a truly enchanting home:

---

### ğŸ¦„ Matrix Pros (and Why You'll Love Them)

| Feature | Why It's Great |
|---|---|
| **ğŸ We're in Control** | Our community's data, rules, and privacy are ours alone. No corporation can suddenly change the rules, delete our history, or sell our conversations. |
| **ğŸ” Real Privacy** | End-to-end encryption is on by default for private chats. Your messages genuinely *cannot* be read by anyone except the people in the conversation â€” not even server admins. Discord does **not** offer this for text. |
| **ğŸ¤– Flexible Bots** | A thriving ecosystem of bots for moderation, games, polls, welcome messages, and creative automation. |
| **ğŸ‰ Media Rich** | Share images, GIFs, voice notes, stickers, and videos freely. We control media retention â€” nothing vanishes unless we want it to. |
| **ğŸŒˆ Customizable Style** | Spaces for topic groups, custom emojis, themed sticker packs, user roles, color themesâ€¦ make it feel like *home* (even if "home" is decked out in nostalgia and glitter). |
| **ğŸ“± Device Freedom** | Available on web, Windows, macOS, Linux, iOS, and Android. Pick your favorite personality â€” Cinny (Discord-like), Element (feature-rich), or FluffyChat (whimsical)! |
| **ğŸŒ Trusted by Governments** | France, Germany, NATO, the EU, and Switzerland all use Matrix for secure communications. If it's good enough for national security, it's good enough for our Neopets. |
| **ğŸ—ï¸ Future-Proof** | No lock-in. Open protocols, open source. If something better comes along, we can move â€” with our full history. |

---

### ğŸ‰ Why Leave Discord?

- **Centralized:** Discord owns your community. They can change terms, ban servers, or shut down at any time.
- **Privacy:** Your data is scanned, retained, and can be shared with third parties. Discord collects extensive metadata.
- **No E2EE for text:** Your text messages sit on Discord's servers, readable by Discord and anyone who breaches them.
- **Real breaches happen:** In September 2025, Discord suffered a [major data breach](https://www.zdnet.com/article/70000-government-ids-were-exposed-in-a-discord-breach-could-yours-be-next/) â€” **70,000+ government-issued ID photos** were leaked via a compromised third-party vendor, along with names, emails, and IP addresses. With a self-hosted Matrix server, this kind of centralized breach simply *cannot happen*.
- **Outages are out of your hands:** When Discord goes down, so does your community. We'd run our own infrastructure.

---

## ğŸŒ Who Trusts Matrix?

This isn't some niche hobby project. Matrix is trusted at the highest levels:

| Who | How They Use It |
|---|---|
| ğŸ‡«ğŸ‡· **France** | Runs **Tchap**, a Matrix-based messenger mandatory for 600,000+ government officials as of September 2025. France is the first country to become a paying member of the Matrix.org Foundation. |
| ğŸ‡©ğŸ‡ª **Germany** | Uses **BundesMessenger** (Matrix-based) for secure government and healthcare communications. |
| ğŸ›ï¸ **NATO** | Piloting **NI2CE** (NATO Interoperable Instant Communication Environment) built on Matrix for secure inter-nation messaging. |
| ğŸ‡ªğŸ‡º **European Commission** | Trialing Matrix as a sovereign alternative to US-based platforms. |
| ğŸ‡¨ğŸ‡­ **Switzerland** | Assessing Matrix for public sector communications; Element (the Matrix client company) is partly sponsored by Swiss government entities. |

> *If NATO trusts it for classified comms infrastructure, our Kougras and Aishas are in very good paws.* ğŸ¾

---

## ğŸ¤” Quick FAQ: Who, What, Where, When, Why & How

- **Who:** Anyone in our community who'd rather be a *neighbor* than a "user" on someone else's platform.
- **What:** Chat, images, custom stickers, bots, threads, video/voice calls â€” everything we love, plus privacy and control.
- **Where:** Our own home server (e.g., `matrix.neopets.club`) â€” a cozy private neighborhood online.
- **When:** Whenever we're ready! A trial run is easy; move over fully when comfortable.
- **Why:** Security, privacy, creative freedom, and total autonomy.
- **How:** It's easier than you think. Keep reading! ğŸ‘‡

---

## ğŸ¦‹ How to Join (for Non-Techies!)

### Step 1: Pick Your App

| App | Vibe | Platforms | Link |
|---|---|---|---|
| **Cinny** | Most Discord-like â€” clean sidebar, familiar layout | Web, Desktop | [cinny.in](https://cinny.in/) |
| **Element** | Feature-complete power-user client | Web, Desktop, iOS, Android | [element.io/get-started](https://element.io/get-started) |
| **FluffyChat** | Friendly, colorful, simple | Desktop, iOS, Android | [fluffychat.im](https://fluffychat.im/) |

> ğŸ’¡ **Our recommendation:** Start with **Cinny** if you're coming from Discord â€” it'll feel the most familiar! Use **Element** on mobile.

### Step 2: Create Your Account

1. Open your chosen app
2. Click **"Sign Up"**
3. For the homeserver, enter: `matrix.neopets.club` *(or whatever our server address is)*
4. Pick a username and a strong password
5. That's it â€” you're in! No email required, no phone number, no government ID. ğŸ‰

### Step 3: Get Cozy

- **Join Spaces** â€” our topic groups (like Discord's server channels)
- **Send a sticker** â€” try out custom Neopets sticker packs!
- **Upload a GIF or image** â€” drag and drop, just like you're used to
- **Try a voice/video call** â€” click the phone/camera icon in any room
- **Customize your theme** â€” dark mode, light mode, or whatever suits your aesthetic âœ¨

---

## ğŸ›¡ï¸ Security Deep Dive: Why Self-Hosting Matters

<details>
<summary><strong>Click to expand the full security comparison</strong></summary>

| Aspect | Our Matrix Server | Discord |
|---|---|---|
| **Who stores your data?** | Us. On our own server. | Discord Inc., on their servers, subject to US law. |
| **End-to-end encryption (text)?** | âœ… Yes, by default | âŒ No |
| **End-to-end encryption (calls)?** | âœ… Yes | âœ… Yes (added 2024) |
| **Can the platform read your messages?** | âŒ No (not even admins with E2EE) | âœ… Yes |
| **Data breach risk** | Isolated to our small server | Centralized â€” one breach exposes millions |
| **Government ID required?** | âŒ Never | âš ï¸ Sometimes (age verification) |
| **Open source / auditable?** | âœ… Fully | âŒ No |
| **Data retention** | We decide | Discord decides |
| **Third-party vendor access?** | âŒ None | âœ… Yes (support vendors, etc.) |

**The bottom line:** With self-hosting, there is no central honeypot of data for attackers to target. Our server, our rules, our security.

</details>

---

## ğŸŒ‰ Bridging: Keep a Foot in Both Worlds (Optional)

<details>
<summary><strong>Click to expand bridging guide</strong></summary>

Not everyone will switch overnight â€” and that's okay! Matrix supports **bridges** that connect Matrix rooms with Discord channels, so messages flow between both platforms in real time. Think of it as a portal between two cozy rooms. ğŸšªâœ¨

### How It Works (The Simple Version)

A bridge is a small service that sits between Matrix and Discord, relaying messages, images, reactions, edits, and deletes back and forth. To users on either side, it feels like everyone is in the same chat.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚              â”‚
â”‚   Matrix     â”‚â—„â”€â”€â”€â–ºâ”‚  Bridge Service   â”‚â—„â”€â”€â”€â–ºâ”‚   Discord    â”‚
â”‚  Homeserver  â”‚     â”‚ (mautrix-discord) â”‚     â”‚   API        â”‚
â”‚              â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                     â”‚  Database   â”‚
                     â”‚ (maps IDs,  â”‚
                     â”‚  rooms,     â”‚
                     â”‚  users)     â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Two Modes

| Mode | How It Works | What It Looks Like |
|---|---|---|
| **Relay / Bot Mode** | A single Discord bot relays all messages, prefixed with the Matrix sender's name | `[NeoFan42]: Hey everyone!` appears from the bot in Discord |
| **Puppet Mode** | Users link their own Discord account â€” messages appear *as them* on both sides | Seamless; looks native on both platforms |

### What Gets Bridged?

| Feature | Bridged? | Notes |
|---|---|---|
| Text messages | âœ… | Markdown, mentions, formatting all converted |
| Images / files / GIFs | âœ… | Re-uploaded across platforms |
| Message edits | âœ… | Synced both ways |
| Message deletes | âœ… | Synced both ways |
| Reactions (emoji) | âœ… | Matrix â†” Discord emoji reactions |
| Typing indicators | âœ… | If enabled in config |
| Threads | âš ï¸ Partial | Basic support; not 1:1 |
| Voice / video calls | âŒ | Fundamentally different tech |
| Stickers | âš ï¸ Partial | Sent as images |

### When to Use a Bridge

âœ… **Great for:**
- **Gradual migration** â€” run both platforms side by side while people get comfortable
- **Letting holdouts participate** â€” friends who haven't switched yet can still chat with the Matrix crew
- **Archiving** â€” capture Discord messages into Matrix for posterity

âš ï¸ **Keep in mind:**
- Adds another service to maintain
- Some features (threads, stickers, embeds) don't translate perfectly
- Can reduce the incentive to fully migrate if people can "just stay on Discord"
- Puppet mode requires users to share their Discord token with the bridge

> ğŸ’¡ **Our recommendation:** Use a bridge as a *temporary migration tool*, not a permanent setup. Set a cozy deadline, give everyone time to settle in, then retire the bridge when the community is ready. ğŸ¾

### Bridge Software

The recommended bridge for Discord is [**mautrix-discord**](https://github.com/mautrix/discord) by the mautrix team. It connects to your Matrix homeserver as an [Application Service](https://spec.matrix.org/latest/application-service-api/) and to Discord via a bot token.

ğŸ“– **For the full technical setup guide** â€” including architecture details, configuration, Docker deployment, Application Service registration, and security considerations â€” see **[docs/bridges.md](./docs/bridges.md)**.

</details>

---

## ğŸ§‘â€ğŸ’» Technical Corner: Our Server Stack

<details>
<summary><strong>Click to expand technical details & code references</strong></summary>

### ğŸ—ï¸ Architecture Overview

| Component | Purpose | Link |
|---|---|---|
| **Continuwuity** | Our homeserver â€” lightweight, fast, written in Rust | [GitHub](https://github.com/continuwuity/continuwuity) |
| **coturn** | TURN/STUN server for reliable voice & video calls | [GitHub](https://github.com/coturn/coturn) |
| **maubot** | Plugin-based bot framework (moderation, fun, utilities) | [GitHub](https://github.com/maubot/maubot) |
| **Mjolnir** | Dedicated moderation bot (ban lists, raid protection, spam) | [GitHub](https://github.com/matrix-org/mjolnir) |
| **stickerpicker** | Custom sticker pack manager | [GitHub](https://github.com/maunium/stickerpicker) |
| **mautrix-discord** | Discord â†” Matrix bridge (optional, for migration) | [GitHub](https://github.com/mautrix/discord) |
| **Caddy / nginx** | Reverse proxy with automatic TLS | â€” |

### ğŸ“ Voice & Video: TURN Server Setup

Continuwuity has native TURN server support built into its config. From the [official example config](https://github.com/continuwuity/continuwuity/blob/f5f3108d5f97d24535643a114f646bde4b136ea3/conduwuit-example.toml#L744-L848):

```toml
# Vector list of TURN URIs/servers to use.
# Replace "example.turn.uri" with your TURN domain.
# If using TURN over TLS, replace "turn:" with "turns:"
#
turn_uris = ["turn:turn.neopets.club?transport=udp", "turn:turn.neopets.club?transport=tcp"]

# TURN secret for generating HMAC-SHA1 credentials (more secure than static passwords)
turn_secret = "your-secret-here"

# TURN credential TTL in seconds (default: 86400 = 24 hours)
turn_ttl = 86400
```

The server-side implementation handles HMAC-SHA1 credential generation automatically â€” see [`src/api/client/voip.rs`](https://github.com/continuwuity/continuwuity/blob/f5f3108d5f97d24535643a114f646bde4b136ea3/src/api/client/voip.rs#L1-L68) in the Continuwuity source.

For the coturn side, create a `coturn.conf` (from [Continuwuity's TURN docs](https://github.com/continuwuity/continuwuity/blob/f5f3108d5f97d24535643a114f646bde4b136ea3/docs/turn.mdx#L1-L85)):

```
use-auth-secret
static-auth-secret=<same secret as turn_secret>
realm=neopets.club
```

Run with Docker:
```bash
docker run -d --network=host -v $(pwd)/coturn.conf:/etc/coturn/turnserver.conf coturn/coturn
```

### ğŸ”‘ Registration & User Management

From the [Continuwuity example config](https://github.com/continuwuity/continuwuity/blob/f5f3108d5f97d24535643a114f646bde4b136ea3/conduwuit-example.toml#L371-L469):

```toml
# Enable registration with a token (recommended for private communities)
allow_registration = true
registration_token = "o&^uCtes4HPf0Vu@F20jQeeWE7"

# Auto-join new users to our welcome room
auto_join_rooms = ["#welcome:neopets.club", "#general:neopets.club"]

# Optional: suspend new accounts until an admin approves them
# suspend_on_register = true
```

### ğŸ¤– Bot Setup

**maubot** â€” Install via pip or Docker, then manage plugins through its web UI:
- Moderation, polls, reminders, welcome messages
- Plugin directory: [plugins.maubot.xyz](https://plugins.maubot.xyz/)

**Mjolnir** â€” Dedicated moderation with ban lists, anti-raid, and bulk message removal:
- [Setup guide](https://github.com/matrix-org/mjolnir)
- Operates from a private management room with `!mjolnir` commands

### ğŸ˜º Custom Stickers & Emoji

Use [maunium/stickerpicker](https://github.com/maunium/stickerpicker) to create and host custom Neopets sticker packs:
1. Prepare sticker images (PNG/WebP, ~512Ã—512px)
2. Upload to Matrix and collect `mxc://` URIs
3. Create a sticker pack JSON
4. Add the stickerpicker widget to Element/Cinny

### ğŸ–¥ï¸ VPS Requirements (50â€“100 users)

| Resource | Recommended |
|---|---|
| **CPU** | 1â€“2 vCPUs |
| **RAM** | 1â€“2 GB (Continuwuity + coturn + bots) |
| **Storage** | 20â€“50 GB SSD (media sharing is the biggest variable) |
| **OS** | Any modern Linux (Debian, Fedora, etc.) |

</details>

---

## ğŸ˜º Resource Links

### For Everyone
- ğŸŒ [What is Matrix? (plain English)](https://matrix.org/faq/)
- ğŸ“± [Matrix client comparison](https://matrix.org/clients/)
- ğŸ†• [Getting started with Element](https://element.io/get-started)

### For the Curious
- ğŸ›¡ï¸ [Why governments use Matrix](https://element.io/blog/in-an-increasingly-volatile-world-governments-turn-to-element-and-matrix/)
- ğŸ‡«ğŸ‡· [France mandates Matrix (Tchap) for 600K+ officials](https://www.theregister.com/2025/10/30/france_matrix/)
- ğŸ›ï¸ [NATO tests Matrix for inter-nation messaging](https://www.fastcompany.com/91194828/nato-is-testing-out-this-decentralized-messenger-for-communications-between-member-nations)
- ğŸ”’ [Matrix vs Discord comparison](https://joinmatrix.org/guide/matrix-vs-discord/)

### For Admins & Tinkerers
- âš™ï¸ [Continuwuity documentation](https://continuwuity.org/introduction)
- ğŸ“ [Continuwuity TURN setup guide](https://github.com/continuwuity/continuwuity/blob/main/docs/turn.mdx)
- ğŸ¤– [maubot plugin directory](https://plugins.maubot.xyz/)
- ğŸ˜º [Stickerpicker setup](https://github.com/maunium/stickerpicker)
- ğŸŒ‰ [Bridging guide (Discord â†” Matrix)](./docs/bridges.md)
- ğŸ“š [mautrix bridge documentation](https://docs.mau.fi/bridges/)

---

## ğŸ’Œ TL;DR

We want our comms to be **safe**, **private**, **ours**, and â€” let's be real â€” **as adorable as possible**. Matrix gives us all of that, running on a server lightweight enough to live on a tiny VPS, with the same encryption trusted by NATO and the French government.

> *Ready to decorate our corner of the web with pixels, plushies, and privacy? The door's always open, the mods are friendly, and the code is ours.* ğŸ—ï¸âœ¨

---

*Contributions welcome! Add your own sticker packs, guides, or tips via issues and pull requests.* ğŸ¾